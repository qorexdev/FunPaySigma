# üìö FunPayAPI ‚Äî –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

> **–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:** 1.0.0  
> **–Ø–∑—ã–∫:** –†—É—Å—Å–∫–∏–π  
> **–ü—Ä–æ–µ–∫—Ç:** FunPayCardinal Fork

---

## üìã –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ

1. [–í–≤–µ–¥–µ–Ω–∏–µ](#-–≤–≤–µ–¥–µ–Ω–∏–µ)
2. [–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞](#-—É—Å—Ç–∞–Ω–æ–≤–∫–∞-–∏-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞)
3. [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–∫–µ—Ç–∞](#-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø–∞–∫–µ—Ç–∞)
4. [–ö–ª–∞—Å—Å Account](#-–∫–ª–∞—Å—Å-account)
   - [–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è](#–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è)
   - [–ú–µ—Ç–æ–¥—ã —Ä–∞–±–æ—Ç—ã —Å –∞–∫–∫–∞—É–Ω—Ç–æ–º](#–º–µ—Ç–æ–¥—ã-—Ä–∞–±–æ—Ç—ã-—Å-–∞–∫–∫–∞—É–Ω—Ç–æ–º)
   - [–ú–µ—Ç–æ–¥—ã —Ä–∞–±–æ—Ç—ã —Å —á–∞—Ç–∞–º–∏](#–º–µ—Ç–æ–¥—ã-—Ä–∞–±–æ—Ç—ã-—Å-—á–∞—Ç–∞–º–∏)
   - [–ú–µ—Ç–æ–¥—ã —Ä–∞–±–æ—Ç—ã —Å –∑–∞–∫–∞–∑–∞–º–∏](#–º–µ—Ç–æ–¥—ã-—Ä–∞–±–æ—Ç—ã-—Å-–∑–∞–∫–∞–∑–∞–º–∏)
   - [–ú–µ—Ç–æ–¥—ã —Ä–∞–±–æ—Ç—ã —Å –ª–æ—Ç–∞–º–∏](#–º–µ—Ç–æ–¥—ã-—Ä–∞–±–æ—Ç—ã-—Å-–ª–æ—Ç–∞–º–∏)
   - [–ú–µ—Ç–æ–¥—ã —Ä–∞–±–æ—Ç—ã —Å –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏](#–º–µ—Ç–æ–¥—ã-—Ä–∞–±–æ—Ç—ã-—Å-–∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏)
   - [–ú–µ—Ç–æ–¥—ã —Ñ–∏–Ω–∞–Ω—Å–æ–≤](#–º–µ—Ç–æ–¥—ã-—Ñ–∏–Ω–∞–Ω—Å–æ–≤)
5. [–¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö (types)](#-—Ç–∏–ø—ã-–¥–∞–Ω–Ω—ã—Ö-types)
6. [–ü–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è (enums)](#-–ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è-enums)
7. [–ò—Å–∫–ª—é—á–µ–Ω–∏—è (exceptions)](#-–∏—Å–∫–ª—é—á–µ–Ω–∏—è-exceptions)
8. [–ú–æ–¥—É–ª—å Runner (Updater)](#-–º–æ–¥—É–ª—å-runner-updater)
9. [–°–æ–±—ã—Ç–∏—è (Events)](#-—Å–æ–±—ã—Ç–∏—è-events)
10. [–£—Ç–∏–ª–∏—Ç—ã (utils)](#-—É—Ç–∏–ª–∏—Ç—ã-utils)
11. [–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è](#-–ø—Ä–∏–º–µ—Ä—ã-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è)

---

## üöÄ –í–≤–µ–¥–µ–Ω–∏–µ

**FunPayAPI** ‚Äî —ç—Ç–æ Python-–±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–æ–º FunPay. –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —É–¥–æ–±–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è:

- ‚úÖ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞–∫–∫–∞—É–Ω—Ç–æ–º
- ‚úÖ –û—Ç–ø—Ä–∞–≤–∫–∏ –∏ –ø–æ–ª—É—á–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π –≤ —á–∞—Ç–∞—Ö
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ª–æ—Ç–∞–º–∏ –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–∫–∞–∑–æ–≤ –∏ –ø—Ä–æ–¥–∞–∂
- ‚úÖ –ü–æ–ª—É—á–µ–Ω–∏—è —Å–æ–±—ã—Ç–∏–π –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ (–Ω–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è, –∑–∞–∫–∞–∑—ã –∏ —Ç.–¥.)
- ‚úÖ –†–∞–±–æ—Ç—ã —Å –æ—Ç–∑—ã–≤–∞–º–∏
- ‚úÖ –í—ã–≤–æ–¥–∞ —Å—Ä–µ–¥—Å—Ç–≤

---

## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```bash
pip install requests beautifulsoup4 lxml
```

### –ò–º–ø–æ—Ä—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

```python
import FunPayAPI

# –ò–ª–∏ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏
from FunPayAPI import Account, Runner, events, types
from FunPayAPI.common import exceptions, enums, utils
```

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–∫–µ—Ç–∞

```
FunPayAPI/
‚îú‚îÄ‚îÄ __init__.py          # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞, —ç–∫—Å–ø–æ—Ä—Ç –æ—Å–Ω–æ–≤–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤
‚îú‚îÄ‚îÄ account.py           # –ö–ª–∞—Å—Å Account ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∞—Å—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å API
‚îú‚îÄ‚îÄ types.py             # –í—Å–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö (–∫–ª–∞—Å—Å—ã-–º–æ–¥–µ–ª–∏)
‚îú‚îÄ‚îÄ common/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ enums.py         # –ü–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è (EventTypes, MessageTypes, etc.)
‚îÇ   ‚îú‚îÄ‚îÄ exceptions.py    # –ö–∞—Å—Ç–æ–º–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ utils.py         # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏ —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è
‚îî‚îÄ‚îÄ updater/
    ‚îú‚îÄ‚îÄ __init__.py
    ‚îú‚îÄ‚îÄ runner.py        # –ö–ª–∞—Å—Å Runner –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–æ–±—ã—Ç–∏–π
    ‚îî‚îÄ‚îÄ events.py        # –ö–ª–∞—Å—Å—ã —Å–æ–±—ã—Ç–∏–π
```

---

## üë§ –ö–ª–∞—Å—Å Account

**–ö–ª–∞—Å—Å `Account`** ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∞—Å—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞–∫–∫–∞—É–Ω—Ç–æ–º FunPay.

### –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è

```python
from FunPayAPI import Account

account = Account(
    golden_key="–≤–∞—à_golden_key",           # –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ: —Ç–æ–∫–µ–Ω –∞–∫–∫–∞—É–Ω—Ç–∞
    user_agent="–≤–∞—à_user_agent",           # –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: User-Agent –±—Ä–∞—É–∑–µ—Ä–∞
    requests_timeout=10,                    # –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: —Ç–∞–π–º–∞—É—Ç –∑–∞–ø—Ä–æ—Å–æ–≤ (—Å–µ–∫)
    proxy={"http": "...", "https": "..."},  # –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: –ø—Ä–æ–∫—Å–∏
    locale="ru"                             # –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: –ª–æ–∫–∞–ª—å ("ru", "en", "uk")
)

# –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∞–∫–∫–∞—É–Ω—Ç–∞ (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º!)
account.get()
```

#### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|--------------|----------|
| `golden_key` | `str` | ‚úÖ –î–∞ | –¢–æ–∫–µ–Ω –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (cookie `golden_key`) |
| `user_agent` | `str \| None` | ‚ùå –ù–µ—Ç | User-Agent –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤ |
| `requests_timeout` | `int \| float` | ‚ùå –ù–µ—Ç | –¢–∞–π–º–∞—É—Ç –¥–ª—è HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 10) |
| `proxy` | `dict \| None` | ‚ùå –ù–µ—Ç | –°–ª–æ–≤–∞—Ä—å —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –ø—Ä–æ–∫—Å–∏ |
| `locale` | `"ru" \| "en" \| "uk" \| None` | ‚ùå –ù–µ—Ç | –õ–æ–∫–∞–ª—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ FunPay |

---

### –ú–µ—Ç–æ–¥—ã —Ä–∞–±–æ—Ç—ã —Å –∞–∫–∫–∞—É–Ω—Ç–æ–º

#### `get(update_phpsessid: bool = True) -> Account`

–ü–æ–ª—É—á–∞–µ—Ç / –æ–±–Ω–æ–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –æ–± –∞–∫–∫–∞—É–Ω—Ç–µ. **–ù–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—ã–∑—ã–≤–∞—Ç—å –∫–∞–∂–¥—ã–µ 40-60 –º–∏–Ω—É—Ç** –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è `phpsessid`.

```python
account = account.get()

# –ê—Ç—Ä–∏–±—É—Ç—ã –ø–æ—Å–ª–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏:
print(account.id)           # ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
print(account.username)     # –ù–∏–∫–Ω–µ–π–º
print(account.currency)     # –í–∞–ª—é—Ç–∞ –∞–∫–∫–∞—É–Ω—Ç–∞ (Currency enum)
print(account.csrf_token)   # CSRF-—Ç–æ–∫–µ–Ω
print(account.phpsessid)    # PHP Session ID
```

#### `is_initiated() -> bool`

–ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –±—ã–ª –ª–∏ –∞–∫–∫–∞—É–Ω—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω –º–µ—Ç–æ–¥–æ–º `get()`.

```python
if account.is_initiated:
    print("–ê–∫–∫–∞—É–Ω—Ç –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ")
```

#### `logout() -> None`

–í—ã—Ö–æ–¥ –∏–∑ –∞–∫–∫–∞—É–Ω—Ç–∞ (—Å–±—Ä–æ—Å `golden_key`).

```python
account.logout()
```

#### `locale` (property)

–ü–æ–ª—É—á–µ–Ω–∏–µ/—É—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ç–µ–∫—É—â–µ–π –ª–æ–∫–∞–ª–∏.

```python
print(account.locale)  # "ru"
account.locale = "en"
```

---

### –ú–µ—Ç–æ–¥—ã —Ä–∞–±–æ—Ç—ã —Å —á–∞—Ç–∞–º–∏

#### `get_chat(chat_id: int, with_history: bool = True) -> types.Chat`

–ü–æ–ª—É—á–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ª–∏—á–Ω–æ–º —á–∞—Ç–µ.

```python
chat = account.get_chat(123456, with_history=True)
print(chat.name)               # –ò–º—è —Å–æ–±–µ—Å–µ–¥–Ω–∏–∫–∞
print(chat.messages)           # –°–ø–∏—Å–æ–∫ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 100 —Å–æ–æ–±—â–µ–Ω–∏–π
print(chat.looking_link)       # –°—Å—ã–ª–∫–∞ "–ü–æ–∫—É–ø–∞—Ç–µ–ª—å —Å–º–æ—Ç—Ä–∏—Ç"
```

#### `get_chat_history(chat_id: int | str, ...) -> list[types.Message]`

–ü–æ–ª—É—á–∞–µ—Ç –∏—Å—Ç–æ—Ä–∏—é —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ —á–∞—Ç–∞ (–¥–æ 100 –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π).

```python
messages = account.get_chat_history(
    chat_id=123456,
    last_message_id=99999999999,  # ID –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è –ø–∞–≥–∏–Ω–∞—Ü–∏–∏
    interlocutor_username="User", # –ò–º—è —Å–æ–±–µ—Å–µ–¥–Ω–∏–∫–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
    from_id=0                     # –ü–æ–ª—É—á–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –Ω–∞—á–∏–Ω–∞—è —Å —ç—Ç–æ–≥–æ ID
)

for msg in messages:
    print(f"{msg.author}: {msg.text}")
```

#### `get_chats_histories(chats_data: dict) -> dict`

–ü–æ–ª—É—á–∞–µ—Ç –∏—Å—Ç–æ—Ä–∏—é —Å–æ–æ–±—â–µ–Ω–∏–π —Å—Ä–∞–∑—É –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —á–∞—Ç–æ–≤.

```python
# {chat_id: username –∏–ª–∏ None}
chats_data = {123456: "User1", 789012: None}
histories = account.get_chats_histories(chats_data)

for chat_id, messages in histories.items():
    print(f"–ß–∞—Ç {chat_id}: {len(messages)} —Å–æ–æ–±—â–µ–Ω–∏–π")
```

#### `send_message(chat_id, text, ...) -> types.Message`

–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ —á–∞—Ç.

```python
message = account.send_message(
    chat_id=123456,                    # ID —á–∞—Ç–∞
    text="–ü—Ä–∏–≤–µ—Ç!",                    # –¢–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
    image_id=None,                     # ID –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
    interlocutor_id=None,              # ID —Å–æ–±–µ—Å–µ–¥–Ω–∏–∫–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
    add_to_ignore_list=True,           # –î–æ–±–∞–≤–∏—Ç—å –≤ —Å–ø–∏—Å–æ–∫ –∏–≥–Ω–æ—Ä–∞ Runner'–∞
    update_last_saved_message=False,   # –û–±–Ω–æ–≤–∏—Ç—å ID –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è
    leave_as_unread=False              # –û—Å—Ç–∞–≤–∏—Ç—å –Ω–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã–º
)

print(f"–°–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ: ID {message.id}")
```

#### `send_image(chat_id, image, ...) -> types.Message`

–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ —á–∞—Ç (—Ç–æ–ª—å–∫–æ –¥–ª—è –ª–∏—á–Ω—ã—Ö —á–∞—Ç–æ–≤).

```python
message = account.send_image(
    chat_id=123456,
    image="path/to/image.png"  # –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É –∏–ª–∏ IO[bytes]
)
```

#### `upload_image(image, type_="chat") -> int`

–í—ã–≥—Ä—É–∂–∞–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä FunPay.

```python
image_id = account.upload_image("path/to/image.png", type_="chat")
# type_: "chat" –∏–ª–∏ "offer"
```

#### `request_chats() -> list[types.ChatShortcut]`

–ó–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —á–∞—Ç–æ–≤.

```python
chats = account.request_chats()
for chat in chats:
    print(f"{chat.name}: {chat.last_message_text}")
```

#### `add_chats(chats: list[types.ChatShortcut])`

–°–æ—Ö—Ä–∞–Ω—è–µ—Ç —á–∞—Ç—ã –≤–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ.

#### `get_chats(update: bool = False) -> dict`

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ª–æ–≤–∞—Ä—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö —á–∞—Ç–æ–≤.

```python
chats = account.get_chats(update=True)  # –° –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º
for chat_id, chat in chats.items():
    print(f"ID: {chat_id}, –ò–º—è: {chat.name}")
```

#### `get_chat_by_name(name: str, make_request: bool = False)`

–ò—â–µ—Ç —á–∞—Ç –ø–æ –∏–º–µ–Ω–∏ —Å–æ–±–µ—Å–µ–¥–Ω–∏–∫–∞.

```python
chat = account.get_chat_by_name("Username", make_request=True)
```

#### `get_chat_by_id(chat_id: int, make_request: bool = False)`

–ò—â–µ—Ç —á–∞—Ç –ø–æ ID.

```python
chat = account.get_chat_by_id(123456)
```

---

### –ú–µ—Ç–æ–¥—ã —Ä–∞–±–æ—Ç—ã —Å –∑–∞–∫–∞–∑–∞–º–∏

#### `get_order(order_id: str) -> types.Order`

–ü–æ–ª—É—á–∞–µ—Ç –ø–æ–ª–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∑–∞–∫–∞–∑–µ.

```python
order = account.get_order("ABC12345")

print(order.id)              # ID –∑–∞–∫–∞–∑–∞
print(order.status)          # –°—Ç–∞—Ç—É—Å (OrderStatuses enum)
print(order.buyer_username)  # –ò–º—è –ø–æ–∫—É–ø–∞—Ç–µ–ª—è
print(order.seller_username) # –ò–º—è –ø—Ä–æ–¥–∞–≤—Ü–∞
print(order.sum)             # –°—É–º–º–∞ –∑–∞–∫–∞–∑–∞
print(order.currency)        # –í–∞–ª—é—Ç–∞
print(order.amount)          # –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–≤–∞—Ä–∞
print(order.lot_params)      # –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ª–æ—Ç–∞ [(–Ω–∞–∑–≤–∞–Ω–∏–µ, –∑–Ω–∞—á–µ–Ω–∏–µ), ...]
print(order.buyer_params)    # –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–∫—É–ø–∞—Ç–µ–ª—è {–Ω–∞–∑–≤–∞–Ω–∏–µ: –∑–Ω–∞—á–µ–Ω–∏–µ}
print(order.review)          # –û—Ç–∑—ã–≤ (Review –∏–ª–∏ None)
print(order.order_secrets)   # –¢–æ–≤–∞—Ä—ã (—Å–µ–∫—Ä–µ—Ç—ã –∑–∞–∫–∞–∑–∞)
```

#### `get_order_shortcut(order_id: str) -> types.OrderShortcut`

–ü–æ–ª—É—á–∞–µ—Ç –∫—Ä–∞—Ç–∫—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∑–∞–∫–∞–∑–µ (—Ç–æ–ª—å–∫–æ –¥–ª—è –ø—Ä–æ–¥–∞–∂).

```python
order = account.get_order_shortcut("ABC12345")
print(order.description)
```

#### `get_sales(...) -> tuple[list[types.OrderShortcut], str | None]`

–ü–æ–ª—É—á–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –∑–∞–∫–∞–∑–æ–≤ (–ø—Ä–æ–¥–∞–∂).

```python
orders, next_cursor = account.get_sales(
    start_from=None,           # –ö—É—Ä—Å–æ—Ä –¥–ª—è –ø–∞–≥–∏–Ω–∞—Ü–∏–∏
    include_paid=True,         # –í–∫–ª—é—á–∞—Ç—å –æ–ø–ª–∞—á–µ–Ω–Ω—ã–µ
    include_closed=True,       # –í–∫–ª—é—á–∞—Ç—å –∑–∞–∫—Ä—ã—Ç—ã–µ
    include_refunded=True,     # –í–∫–ª—é—á–∞—Ç—å –≤–æ–∑–≤—Ä–∞—â–µ–Ω–Ω—ã–µ
    include_unpaid=True,       # –í–∫–ª—é—á–∞—Ç—å –Ω–µ–æ–ø–ª–∞—á–µ–Ω–Ω—ã–µ
    state=None,                # "closed", "paid", "refunded"
    game=None,                 # ID –∏–≥—Ä—ã
    section=None,              # –°–µ–∫—Ü–∏—è
    server=None,               # ID —Å–µ—Ä–≤–µ—Ä–∞
    side=None,                 # –°—Ç–æ—Ä–æ–Ω–∞
    locale="ru"
)

for order in orders:
    print(f"#{order.id} - {order.description} - {order.price} {order.currency}")
```

#### `refund(order_id: str) -> None`

–û—Ñ–æ—Ä–º–ª—è–µ—Ç –≤–æ–∑–≤—Ä–∞—Ç —Å—Ä–µ–¥—Å—Ç–≤ –∑–∞ –∑–∞–∫–∞–∑.

```python
account.refund("ABC12345")
```

---

### –ú–µ—Ç–æ–¥—ã —Ä–∞–±–æ—Ç—ã —Å –æ—Ç–∑—ã–≤–∞–º–∏

#### `send_review(order_id: str, text: str, rating: int = 5) -> str`

–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∏–ª–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç –æ—Ç–∑—ã–≤.

```python
html = account.send_review(
    order_id="ABC12345",
    text="–û—Ç–ª–∏—á–Ω—ã–π –ø—Ä–æ–¥–∞–≤–µ—Ü!",
    rating=5  # –û—Ç 1 –¥–æ 5 –∑–≤–µ–∑–¥
)
```

#### `delete_review(order_id: str) -> str`

–£–¥–∞–ª—è–µ—Ç –æ—Ç–∑—ã–≤ –∏–ª–∏ –æ—Ç–≤–µ—Ç –Ω–∞ –æ—Ç–∑—ã–≤.

```python
account.delete_review("ABC12345")
```

---

### –ú–µ—Ç–æ–¥—ã —Ä–∞–±–æ—Ç—ã —Å –ª–æ—Ç–∞–º–∏

#### `get_lot_page(lot_id: int) -> types.LotPage | None`

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É –ª–æ—Ç–∞.

```python
page = account.get_lot_page(12345678)
if page:
    print(page.short_description)
    print(page.full_description)
    print(page.image_urls)
    print(page.seller_username)
```

#### `get_lot_fields(lot_id: int) -> types.LotFields`

–ü–æ–ª—É—á–∞–µ—Ç –≤—Å–µ –ø–æ–ª—è –ª–æ—Ç–∞ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.

```python
fields = account.get_lot_fields(12345678)
fields.edit_fields({"price": "100"})
account.save_lot(fields)
```

#### `get_chip_fields(subcategory_id: int) -> types.ChipFields`

–ü–æ–ª—É—á–∞–µ—Ç –ø–æ–ª—è –ª–æ—Ç–∞ –∏–≥—Ä–æ–≤–æ–π –≤–∞–ª—é—Ç—ã.

#### `save_offer(offer_fields: LotFields | ChipFields)`

–°–æ—Ö—Ä–∞–Ω—è–µ—Ç –ª–æ—Ç –Ω–∞ FunPay.

```python
fields = account.get_lot_fields(12345678)
fields.edit_fields({"price": "150", "active": "on"})
account.save_offer(fields)
```

#### `save_lot(lot_fields: types.LotFields)`

–ê–ª–∏–∞—Å –¥–ª—è `save_offer` –¥–ª—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –ª–æ—Ç–æ–≤.

#### `save_chip(chip_fields: types.ChipFields)`

–ê–ª–∏–∞—Å –¥–ª—è `save_offer` –¥–ª—è –ª–æ—Ç–æ–≤ –≤–∞–ª—é—Ç—ã.

#### `delete_lot(lot_id: int)`

–£–¥–∞–ª—è–µ—Ç –ª–æ—Ç.

```python
account.delete_lot(12345678)
```

#### `get_my_subcategory_lots(subcategory_id: int) -> list[types.MyLotShortcut]`

–ü–æ–ª—É—á–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —Å–≤–æ–∏—Ö –ª–æ—Ç–æ–≤ –≤ –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏.

```python
lots = account.get_my_subcategory_lots(123)
for lot in lots:
    print(f"–õ–æ—Ç #{lot.id}: {lot.description} - {lot.price}")
```

#### `get_subcategory_public_lots(subcategory_type, subcategory_id) -> list[types.LotShortcut]`

–ü–æ–ª—É—á–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø—É–±–ª–∏—á–Ω—ã—Ö –ª–æ—Ç–æ–≤ –≤ –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏.

```python
from FunPayAPI.common.enums import SubCategoryTypes

lots = account.get_subcategory_public_lots(
    SubCategoryTypes.COMMON,
    subcategory_id=123
)
```

#### `raise_lots(category_id, subcategories=None, exclude=None) -> bool`

–ü–æ–¥–Ω–∏–º–∞–µ—Ç –≤—Å–µ –ª–æ—Ç—ã –∫–∞—Ç–µ–≥–æ—Ä–∏–∏.

```python
account.raise_lots(
    category_id=123,
    subcategories=[456, 789],  # –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏
    exclude=[111]              # –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: –∏—Å–∫–ª—é—á–∏—Ç—å –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏
)
```

#### `get_raise_modal(category_id: int) -> dict`

–ü–æ–ª—É—á–∞–µ—Ç modal-—Ñ–æ—Ä–º—É –¥–ª—è –ø–æ–¥–Ω—è—Ç–∏—è –ª–æ—Ç–æ–≤.

---

### –ú–µ—Ç–æ–¥—ã —Ä–∞–±–æ—Ç—ã —Å –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏

#### `categories` (property)

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (–∏–≥—Ä—ã) FunPay.

```python
for category in account.categories:
    print(f"{category.id}: {category.name}")
```

#### `get_category(category_id: int) -> types.Category | None`

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏—é –ø–æ ID.

```python
category = account.get_category(123)
if category:
    print(category.name)
    for sub in category.get_subcategories():
        print(f"  - {sub.name}")
```

#### `get_sorted_categories() -> dict[int, types.Category]`

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –≤ –≤–∏–¥–µ —Å–ª–æ–≤–∞—Ä—è `{ID: Category}`.

#### `subcategories` (property)

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤—Å–µ –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏ FunPay.

#### `get_subcategory(subcategory_type, subcategory_id) -> types.SubCategory | None`

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏—é.

```python
from FunPayAPI.common.enums import SubCategoryTypes

subcategory = account.get_subcategory(SubCategoryTypes.COMMON, 123)
```

#### `get_sorted_subcategories() -> dict`

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –≤ –≤–∏–¥–µ —Å–ª–æ–≤–∞—Ä—è `{type: {id: SubCategory}}`.

---

### –ú–µ—Ç–æ–¥—ã —Ñ–∏–Ω–∞–Ω—Å–æ–≤

#### `get_balance(lot_id: int) -> types.Balance`

–ü–æ–ª—É—á–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –±–∞–ª–∞–Ω—Å–µ.

```python
balance = account.get_balance(12345)
print(f"RUB: {balance.total_rub} (–¥–æ—Å—Ç—É–ø–Ω–æ: {balance.available_rub})")
print(f"USD: {balance.total_usd} (–¥–æ—Å—Ç—É–ø–Ω–æ: {balance.available_usd})")
print(f"EUR: {balance.total_eur} (–¥–æ—Å—Ç—É–ø–Ω–æ: {balance.available_eur})")
```

#### `withdraw(currency, wallet, amount, address) -> float`

–í—ã–≤–æ–¥–∏—Ç —Å—Ä–µ–¥—Å—Ç–≤–∞ —Å –∞–∫–∫–∞—É–Ω—Ç–∞.

```python
from FunPayAPI.common.enums import Currency, Wallet

result = account.withdraw(
    currency=Currency.RUB,
    wallet=Wallet.CARD_RUB,
    amount=1000,
    address="1234567890123456"  # –ù–æ–º–µ—Ä –∫–∞—Ä—Ç—ã
)
print(f"–í—ã–≤–µ–¥–µ–Ω–æ: {result}")
```

#### `get_exchange_rate(currency: Currency) -> tuple[float, Currency]`

–ü–æ–ª—É—á–∞–µ—Ç –∫—É—Ä—Å –æ–±–º–µ–Ω–∞ –≤–∞–ª—é—Ç.

```python
from FunPayAPI.common.enums import Currency

rate, account_currency = account.get_exchange_rate(Currency.USD)
print(f"–ö—É—Ä—Å USD: {rate}")
```

#### `calc(subcategory_type, subcategory_id, ...) -> types.CalcResult`

–†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –∫–æ–º–∏—Å—Å–∏—é —Ä–∞–∑–¥–µ–ª–∞.

```python
result = account.calc(
    subcategory_type=SubCategoryTypes.COMMON,
    subcategory_id=123,
    price=1000
)
print(f"–ö–æ–º–∏—Å—Å–∏—è: {result.commission_percent}%")
```

---

### –ú–µ—Ç–æ–¥—ã —Ä–∞–±–æ—Ç—ã —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏

#### `get_user(user_id: int) -> types.UserProfile`

–ü–∞—Ä—Å–∏—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

```python
user = account.get_user(12345)
print(user.username)
print(user.online)
print(user.banned)
print(user.profile_photo)

# –õ–æ—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
for lot in user.get_lots():
    print(f"  {lot.description}: {lot.price}")
```

---

## üì¶ –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö (types)

### ChatShortcut

–í–∏–¥–∂–µ—Ç —á–∞—Ç–∞ —Å–æ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —á–∞—Ç–æ–≤.

```python
class ChatShortcut:
    id: int                    # ID —á–∞—Ç–∞
    name: str                  # –ò–º—è —Å–æ–±–µ—Å–µ–¥–Ω–∏–∫–∞
    last_message_text: str     # –¢–µ–∫—Å—Ç –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è
    node_msg_id: int           # ID —Å–æ–æ–±—â–µ–Ω–∏—è (node)
    user_msg_id: int           # ID —Å–æ–æ–±—â–µ–Ω–∏—è (user)
    unread: bool               # –ï—Å—Ç—å –Ω–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã–µ?
    html: str                  # HTML –∫–æ–¥
    last_message_type: MessageTypes  # –¢–∏–ø –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è
```

### Chat

–õ–∏—á–Ω—ã–π —á–∞—Ç.

```python
class Chat:
    id: int                    # ID —á–∞—Ç–∞
    name: str                  # –ò–º—è —Å–æ–±–µ—Å–µ–¥–Ω–∏–∫–∞
    looking_link: str | None   # –°—Å—ã–ª–∫–∞ "–ü–æ–∫—É–ø–∞—Ç–µ–ª—å —Å–º–æ—Ç—Ä–∏—Ç"
    looking_text: str | None   # –¢–µ–∫—Å—Ç "–ü–æ–∫—É–ø–∞—Ç–µ–ª—å —Å–º–æ—Ç—Ä–∏—Ç"
    html: str                  # HTML –∫–æ–¥
    messages: list[Message]    # –ü–æ—Å–ª–µ–¥–Ω–∏–µ 100 —Å–æ–æ–±—â–µ–Ω–∏–π
```

### Message

–û—Ç–¥–µ–ª—å–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ.

```python
class Message:
    id: int                    # ID —Å–æ–æ–±—â–µ–Ω–∏—è
    text: str | None           # –¢–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è
    chat_id: int | str         # ID —á–∞—Ç–∞
    chat_name: str | None      # –ù–∞–∑–≤–∞–Ω–∏–µ —á–∞—Ç–∞
    interlocutor_id: int | None  # ID —Å–æ–±–µ—Å–µ–¥–Ω–∏–∫–∞
    author: str | None         # –ê–≤—Ç–æ—Ä —Å–æ–æ–±—â–µ–Ω–∏—è
    author_id: int             # ID –∞–≤—Ç–æ—Ä–∞
    html: str                  # HTML –∫–æ–¥
    image_link: str | None     # –°—Å—ã–ª–∫–∞ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
    image_name: str | None     # –ò–º—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
    type: MessageTypes         # –¢–∏–ø —Å–æ–æ–±—â–µ–Ω–∏—è
    badge_text: str | None     # –¢–µ–∫—Å—Ç –±–µ–π–¥–∂–∞
```

### OrderShortcut

–ö—Ä–∞—Ç–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–∞–∫–∞–∑–µ.

```python
class OrderShortcut:
    id: str                    # ID –∑–∞–∫–∞–∑–∞
    description: str           # –û–ø–∏—Å–∞–Ω–∏–µ
    price: float               # –¶–µ–Ω–∞
    currency: Currency         # –í–∞–ª—é—Ç–∞
    buyer_username: str        # –ò–º—è –ø–æ–∫—É–ø–∞—Ç–µ–ª—è
    buyer_id: int              # ID –ø–æ–∫—É–ø–∞—Ç–µ–ª—è
    chat_id: int | str         # ID —á–∞—Ç–∞
    status: OrderStatuses      # –°—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞
    date: datetime             # –î–∞—Ç–∞ –∑–∞–∫–∞–∑–∞
    subcategory_name: str      # –ù–∞–∑–≤–∞–Ω–∏–µ –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏
    subcategory: SubCategory | None
    html: str
```

### Order

–ü–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–∞–∫–∞–∑–µ.

```python
class Order:
    id: str                    # ID –∑–∞–∫–∞–∑–∞
    status: OrderStatuses      # –°—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞
    subcategory: SubCategory | None
    lot_params: list[tuple[str, str]]  # –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ª–æ—Ç–∞
    buyer_params: dict[str, str]       # –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–∫—É–ø–∞—Ç–µ–ª—è
    short_description: str | None
    full_description: str | None
    amount: int                # –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ
    sum: float                 # –°—É–º–º–∞
    currency: Currency         # –í–∞–ª—é—Ç–∞
    buyer_id: int
    buyer_username: str
    seller_id: int
    seller_username: str
    chat_id: str | int
    html: str
    review: Review | None      # –û—Ç–∑—ã–≤
    order_secrets: list[str]   # –¢–æ–≤–∞—Ä—ã (—Å–µ–∫—Ä–µ—Ç—ã)
```

### Category

–ö–∞—Ç–µ–≥–æ—Ä–∏—è (–∏–≥—Ä–∞).

```python
class Category:
    id: int                    # ID –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
    name: str                  # –ù–∞–∑–≤–∞–Ω–∏–µ
    position: int              # –ü–æ–∑–∏—Ü–∏—è –≤ —Å–ø–∏—Å–∫–µ
    
    # –ú–µ—Ç–æ–¥—ã:
    add_subcategory(subcategory)
    get_subcategory(type, id) -> SubCategory | None
    get_subcategories() -> list[SubCategory]
    get_sorted_subcategories() -> dict
```

### SubCategory

–ü–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏—è.

```python
class SubCategory:
    id: int                    # ID –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏
    name: str                  # –ù–∞–∑–≤–∞–Ω–∏–µ
    type: SubCategoryTypes     # –¢–∏–ø (COMMON –∏–ª–∏ CURRENCY)
    category: Category         # –†–æ–¥–∏—Ç–µ–ª—å—Å–∫–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è
    position: int              # –ü–æ–∑–∏—Ü–∏—è
    public_link: str           # –ü—É–±–ª–∏—á–Ω–∞—è —Å—Å—ã–ª–∫–∞
    private_link: str          # –ü—Ä–∏–≤–∞—Ç–Ω–∞—è —Å—Å—ã–ª–∫–∞ (–¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
```

### LotShortcut

–í–∏–¥–∂–µ—Ç –ª–æ—Ç–∞.

```python
class LotShortcut:
    id: int | str              # ID –ª–æ—Ç–∞
    server: str | None         # –°–µ—Ä–≤–µ—Ä
    side: str | None           # –°—Ç–æ—Ä–æ–Ω–∞
    description: str | None    # –û–ø–∏—Å–∞–Ω–∏–µ
    amount: int | None         # –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ
    price: float               # –¶–µ–Ω–∞
    currency: Currency         # –í–∞–ª—é—Ç–∞
    subcategory: SubCategory | None
    seller: SellerShortcut | None
    auto: bool                 # –ê–≤—Ç–æ–≤—ã–¥–∞—á–∞
    promo: bool | None         # –ü—Ä–æ–º–æ
    attributes: dict | None    # –ê—Ç—Ä–∏–±—É—Ç—ã
    html: str
    public_link: str           # –°—Å—ã–ª–∫–∞ –Ω–∞ –ª–æ—Ç
```

### MyLotShortcut

–í–∏–¥–∂–µ—Ç —Å–≤–æ–µ–≥–æ –ª–æ—Ç–∞ (—Å–æ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è).

```python
class MyLotShortcut:
    id: int | str
    server: str | None
    side: str | None
    description: str | None
    amount: int | None
    price: float
    currency: Currency
    subcategory: SubCategory | None
    auto: bool                 # –ê–≤—Ç–æ–≤—ã–¥–∞—á–∞
    active: bool               # –ê–∫—Ç–∏–≤–µ–Ω –ª–∏ –ª–æ—Ç
    html: str
    public_link: str
```

### LotFields

–ü–æ–ª—è –ª–æ—Ç–∞ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.

```python
class LotFields:
    lot_id: int               # ID –ª–æ—Ç–∞
    subcategory: SubCategory | None
    currency: Currency
    
    # –°–≤–æ–π—Å—Ç–≤–∞ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
    active: bool              # –ê–∫—Ç–∏–≤–µ–Ω
    description: str          # –û–ø–∏—Å–∞–Ω–∏–µ
    price: str                # –¶–µ–Ω–∞
    amount: str               # –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ
    secrets: str              # –¢–æ–≤–∞—Ä—ã (–∞–≤—Ç–æ–≤—ã–¥–∞—á–∞)
    images: list[int]         # ID –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
    
    # –ú–µ—Ç–æ–¥—ã:
    fields() -> dict          # –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –ø–æ–ª—è
    edit_fields(fields: dict) # –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª—è
    set_fields(fields: dict)  # –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ –ø–æ–ª—è
    renew_fields() -> LotFields
```

### LotPage

–°—Ç—Ä–∞–Ω–∏—Ü–∞ –ª–æ—Ç–∞.

```python
class LotPage:
    lot_id: int
    subcategory: SubCategory | None
    short_description: str | None
    full_description: str | None
    image_urls: list[str]
    seller_id: int
    seller_username: str
    seller_url: str            # (property)
```

### UserProfile

–ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

```python
class UserProfile:
    id: int
    username: str
    profile_photo: str
    online: bool
    banned: bool
    html: str
    
    # –ú–µ—Ç–æ–¥—ã:
    get_lot(lot_id) -> LotShortcut | None
    get_lots() -> list[LotShortcut]
    get_sorted_lots(mode) -> dict
    update_lot(lot)
    add_lot(lot)
    get_common_lots() -> list[LotShortcut]
    get_currency_lots() -> list[LotShortcut]
```

### Review

–û—Ç–∑—ã–≤ –Ω–∞ –∑–∞–∫–∞–∑.

```python
class Review:
    stars: int | None         # –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–≤–µ–∑–¥
    text: str | None          # –¢–µ–∫—Å—Ç –æ—Ç–∑—ã–≤–∞
    reply: str | None         # –û—Ç–≤–µ—Ç –Ω–∞ –æ—Ç–∑—ã–≤
    anonymous: bool           # –ê–Ω–æ–Ω–∏–º–Ω—ã–π –æ—Ç–∑—ã–≤
    hidden: bool              # –°–∫—Ä—ã—Ç—ã–π –æ—Ç–∑—ã–≤
    html: str
    order_id: str | None
    author: str | None
    author_id: int | None
    by_bot: bool              # –û—Å—Ç–∞–≤–ª–µ–Ω –±–æ—Ç–æ–º
    reply_by_bot: bool        # –û—Ç–≤–µ—Ç –æ—Å—Ç–∞–≤–ª–µ–Ω –±–æ—Ç–æ–º
```

### Balance

–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±–∞–ª–∞–Ω—Å–µ.

```python
class Balance:
    total_rub: float          # –û–±—â–∏–π –±–∞–ª–∞–Ω—Å –≤ —Ä—É–±–ª—è—Ö
    available_rub: float      # –î–æ—Å—Ç—É–ø–Ω—ã–π –±–∞–ª–∞–Ω—Å –≤ —Ä—É–±–ª—è—Ö
    total_usd: float          # –û–±—â–∏–π –±–∞–ª–∞–Ω—Å –≤ –¥–æ–ª–ª–∞—Ä–∞—Ö
    available_usd: float      # –î–æ—Å—Ç—É–ø–Ω—ã–π –±–∞–ª–∞–Ω—Å –≤ –¥–æ–ª–ª–∞—Ä–∞—Ö
    total_eur: float          # –û–±—â–∏–π –±–∞–ª–∞–Ω—Å –≤ –µ–≤—Ä–æ
    available_eur: float      # –î–æ—Å—Ç—É–ø–Ω—ã–π –±–∞–ª–∞–Ω—Å –≤ –µ–≤—Ä–æ
```

### SellerShortcut

–ö—Ä–∞—Ç–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–¥–∞–≤—Ü–µ.

```python
class SellerShortcut:
    id: int
    username: str
    online: bool
    stars: int | None
    reviews: int
    html: str
    link: str                 # (property) –°—Å—ã–ª–∫–∞ –Ω–∞ –ø—Ä–æ—Ñ–∏–ª—å
```

### BuyerViewing

–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è "–ü–æ–∫—É–ø–∞—Ç–µ–ª—å —Å–º–æ—Ç—Ä–∏—Ç".

```python
class BuyerViewing:
    buyer_id: int
    link: str | None          # –°—Å—ã–ª–∫–∞ –Ω–∞ –ª–æ—Ç
    text: str | None          # –¢–µ–∫—Å—Ç–æ–≤–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ
    tag: str | None           # –¢–µ–≥ —Å–æ–±—ã—Ç–∏—è
    html: str | None
```

### PaymentMethod

–ü–ª–∞—Ç–µ–∂–Ω—ã–π –º–µ—Ç–æ–¥.

```python
class PaymentMethod:
    name: str | None
    price: float              # –¶–µ–Ω–∞ —Å –∫–æ–º–∏—Å—Å–∏–µ–π
    currency: Currency
    position: int | None
```

### CalcResult

–†–µ–∑—É–ª—å—Ç–∞—Ç —Ä–∞—Å—á–µ—Ç–∞ –∫–æ–º–∏—Å—Å–∏–∏.

```python
class CalcResult:
    subcategory_type: SubCategoryTypes
    subcategory_id: int
    methods: list[PaymentMethod]
    price: float
    min_price_with_commission: float | None
    min_price_currency: Currency
    account_currency: Currency
    
    # –ú–µ—Ç–æ–¥—ã:
    get_coefficient(currency) -> float
    commission_coefficient() -> float   # (property)
    commission_percent() -> float       # (property)
```

---

## üî¢ –ü–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è (enums)

### EventTypes

–¢–∏–ø—ã —Å–æ–±—ã—Ç–∏–π Runner'–∞.

```python
class EventTypes(Enum):
    INITIAL_CHAT = 0          # –ß–∞—Ç –æ–±–Ω–∞—Ä—É–∂–µ–Ω –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—Ä–æ—Å–µ
    CHATS_LIST_CHANGED = 1    # –°–ø–∏—Å–æ–∫ —á–∞—Ç–æ–≤ –∏–∑–º–µ–Ω–∏–ª—Å—è
    LAST_CHAT_MESSAGE_CHANGED = 2  # –ü–æ—Å–ª–µ–¥–Ω–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å
    NEW_MESSAGE = 3           # –ù–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
    INITIAL_ORDER = 4         # –ó–∞–∫–∞–∑ –æ–±–Ω–∞—Ä—É–∂–µ–Ω –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—Ä–æ—Å–µ
    ORDERS_LIST_CHANGED = 5   # –°–ø–∏—Å–æ–∫ –∑–∞–∫–∞–∑–æ–≤ –∏–∑–º–µ–Ω–∏–ª—Å—è
    NEW_ORDER = 6             # –ù–æ–≤—ã–π –∑–∞–∫–∞–∑
    ORDER_STATUS_CHANGED = 7  # –°—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞ –∏–∑–º–µ–Ω–∏–ª—Å—è
```

### MessageTypes

–¢–∏–ø—ã —Å–æ–æ–±—â–µ–Ω–∏–π.

```python
class MessageTypes(Enum):
    NON_SYSTEM = 0            # –û–±—ã—á–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
    ORDER_PURCHASED = 1       # –ü–æ–∫—É–ø–∞—Ç–µ–ª—å –æ–ø–ª–∞—Ç–∏–ª –∑–∞–∫–∞–∑
    ORDER_CONFIRMED = 2       # –ü–æ–∫—É–ø–∞—Ç–µ–ª—å –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–ª –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
    NEW_FEEDBACK = 3          # –ù–æ–≤—ã–π –æ—Ç–∑—ã–≤
    FEEDBACK_CHANGED = 4      # –û—Ç–∑—ã–≤ –∏–∑–º–µ–Ω–µ–Ω
    FEEDBACK_DELETED = 5      # –û—Ç–∑—ã–≤ —É–¥–∞–ª–µ–Ω
    NEW_FEEDBACK_ANSWER = 6   # –ù–æ–≤—ã–π –æ—Ç–≤–µ—Ç –Ω–∞ –æ—Ç–∑—ã–≤
    FEEDBACK_ANSWER_CHANGED = 7   # –û—Ç–≤–µ—Ç –∏–∑–º–µ–Ω–µ–Ω
    FEEDBACK_ANSWER_DELETED = 8   # –û—Ç–≤–µ—Ç —É–¥–∞–ª–µ–Ω
    ORDER_REOPENED = 9        # –ó–∞–∫–∞–∑ –æ—Ç–∫—Ä—ã—Ç –ø–æ–≤—Ç–æ—Ä–Ω–æ
    REFUND = 10               # –í–æ–∑–≤—Ä–∞—Ç —Å—Ä–µ–¥—Å—Ç–≤
    PARTIAL_REFUND = 11       # –ß–∞—Å—Ç–∏—á–Ω—ã–π –≤–æ–∑–≤—Ä–∞—Ç
    ORDER_CONFIRMED_BY_ADMIN = 12  # –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º
    DISCORD = 13              # Discord —Å—Å—ã–ª–∫–∞
    DEAR_VENDORS = 14         # –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –ø—Ä–æ–¥–∞–≤—Ü–∞–º
    REFUND_BY_ADMIN = 15      # –í–æ–∑–≤—Ä–∞—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º
```

### OrderStatuses

–°—Ç–∞—Ç—É—Å—ã –∑–∞–∫–∞–∑–æ–≤.

```python
class OrderStatuses(Enum):
    PAID = 0                  # –û–ø–ª–∞—á–µ–Ω
    CLOSED = 1                # –ó–∞–∫—Ä—ã—Ç
    REFUNDED = 2              # –í–æ–∑–≤—Ä–∞—Ç
```

### SubCategoryTypes

–¢–∏–ø—ã –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–π.

```python
class SubCategoryTypes(Enum):
    COMMON = 0                # –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –ª–æ—Ç—ã
    CURRENCY = 1              # –ò–≥—Ä–æ–≤–∞—è –≤–∞–ª—é—Ç–∞ (–Ω–µ–ª—å–∑—è –ø–æ–¥–Ω–∏–º–∞—Ç—å)
```

### Currency

–í–∞–ª—é—Ç—ã –±–∞–ª–∞–Ω—Å–∞.

```python
class Currency(Enum):
    USD = 0                   # –î–æ–ª–ª–∞—Ä ($)
    RUB = 1                   # –†—É–±–ª—å (‚ÇΩ)
    EUR = 2                   # –ï–≤—Ä–æ (‚Ç¨)
    UNKNOWN = 3               # –ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –≤–∞–ª—é—Ç–∞ (¬§)
    
    # –ú–µ—Ç–æ–¥—ã:
    __str__() -> str          # –°–∏–º–≤–æ–ª –≤–∞–ª—é—Ç—ã
    code() -> str             # –ö–æ–¥ –≤–∞–ª—é—Ç—ã ("usd", "rub", "eur")
```

### Wallet

–ö–æ—à–µ–ª—å–∫–∏ –¥–ª—è –≤—ã–≤–æ–¥–∞.

```python
class Wallet(Enum):
    QIWI = 0                  # Qiwi –∫–æ—à–µ–ª–µ–∫
    BINANCE = 1               # Binance Pay
    TRC = 2                   # USDT TRC20
    CARD_RUB = 3              # –†—É–±–ª–µ–≤–∞—è –∫–∞—Ä—Ç–∞
    CARD_USD = 4              # –î–æ–ª–ª–∞—Ä–æ–≤–∞—è –∫–∞—Ä—Ç–∞
    CARD_EUR = 5              # –ï–≤—Ä–æ –∫–∞—Ä—Ç–∞
    WEBMONEY = 6              # WebMoney WMZ
    YOUMONEY = 7              # –ÆMoney
```

---

## ‚ö†Ô∏è –ò—Å–∫–ª—é—á–µ–Ω–∏—è (exceptions)

### AccountNotInitiatedError

–ê–∫–∫–∞—É–Ω—Ç –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω –º–µ—Ç–æ–¥–æ–º `get()`.

```python
try:
    account.send_message(123, "test")
except exceptions.AccountNotInitiatedError:
    print("–°–Ω–∞—á–∞–ª–∞ –≤—ã–∑–æ–≤–∏—Ç–µ account.get()!")
```

### RequestFailedError

–°—Ç–∞—Ç—É—Å –∫–æ–¥ –æ—Ç–≤–µ—Ç–∞ != 200.

```python
class RequestFailedError(Exception):
    status_code: int          # –ö–æ–¥ —Å—Ç–∞—Ç—É—Å–∞
    url: str                  # URL –∑–∞–ø—Ä–æ—Å–∞
    response_text: str        # –¢–µ–∫—Å—Ç –æ—Ç–≤–µ—Ç–∞
    request_headers: dict     # –ó–∞–≥–æ–ª–æ–≤–∫–∏ –∑–∞–ø—Ä–æ—Å–∞
    request_body: Any         # –¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞
```

### UnauthorizedError

–û—à–∏–±–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (–Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π `golden_key`).

### MessageNotDeliveredError

–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è.

```python
class MessageNotDeliveredError(RequestFailedError):
    error_message: str | None  # –°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ
    chat_id: int              # ID —á–∞—Ç–∞
```

### ImageUploadError

–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è.

### RaiseError

–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–¥–Ω—è—Ç–∏–∏ –ª–æ—Ç–æ–≤.

```python
class RaiseError(RequestFailedError):
    category: types.Category   # –ö–∞—Ç–µ–≥–æ—Ä–∏—è
    error_message: str | None  # –°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ
    wait_time: int | None      # –í—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è (—Å–µ–∫—É–Ω–¥—ã)
```

### WithdrawError

–û—à–∏–±–∫–∞ –≤—ã–≤–æ–¥–∞ —Å—Ä–µ–¥—Å—Ç–≤.

### FeedbackEditingError

–û—à–∏–±–∫–∞ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –æ—Ç–∑—ã–≤–∞–º–∏.

### LotParsingError

–û—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ –ª–æ—Ç–∞.

### LotSavingError

–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ª–æ—Ç–∞.

```python
class LotSavingError(RequestFailedError):
    error_message: str | None
    lot_id: int
    errors: dict[str, str]    # –û—à–∏–±–∫–∏ –ø–æ –ø–æ–ª—è–º
```

### RefundError

–û—à–∏–±–∫–∞ –≤–æ–∑–≤—Ä–∞—Ç–∞ —Å—Ä–µ–¥—Å—Ç–≤.

---

## üîÑ –ú–æ–¥—É–ª—å Runner (Updater)

**Runner** ‚Äî –∫–ª–∞—Å—Å –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –Ω–æ–≤—ã—Ö —Å–æ–±—ã—Ç–∏–π FunPay –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.

### –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è

```python
from FunPayAPI import Account, Runner

account = Account("golden_key").get()
runner = Runner(
    account=account,
    disable_message_requests=False,   # –û—Ç–∫–ª—é—á–∏—Ç—å –∑–∞–ø—Ä–æ—Å—ã –æ —Å–æ–æ–±—â–µ–Ω–∏—è—Ö
    disabled_order_requests=False     # –û—Ç–∫–ª—é—á–∏—Ç—å –∑–∞–ø—Ä–æ—Å—ã –æ –∑–∞–∫–∞–∑–∞—Ö
)
```

### –ú–µ—Ç–æ–¥—ã

#### `listen(requests_delay=6.0, ignore_exceptions=True) -> Generator`

–ë–µ—Å–∫–æ–Ω–µ—á–Ω–æ –ø–æ–ª—É—á–∞–µ—Ç —Å–æ–±—ã—Ç–∏—è.

```python
for event in runner.listen(requests_delay=6.0):
    if isinstance(event, events.NewMessageEvent):
        print(f"–ù–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ: {event.message.text}")
    elif isinstance(event, events.NewOrderEvent):
        print(f"–ù–æ–≤—ã–π –∑–∞–∫–∞–∑: #{event.order.id}")
```

#### `get_updates() -> dict`

–î–µ–ª–∞–µ—Ç –æ–¥–∏–Ω –∑–∞–ø—Ä–æ—Å –Ω–∞ –ø–æ–ª—É—á–µ–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π.

#### `parse_updates(updates: dict) -> list[Event]`

–ü–∞—Ä—Å–∏—Ç –æ—Ç–≤–µ—Ç –∏ —Å–æ–∑–¥–∞–µ—Ç —Å–æ–±—ã—Ç–∏—è.

```python
updates = runner.get_updates()
events_list = runner.parse_updates(updates)
```

#### `update_last_message(chat_id, message_id, message_text)`

–û–±–Ω–æ–≤–ª—è–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–π ID –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è —á–∞—Ç–∞.

#### `mark_as_by_bot(chat_id, message_id)`

–ü–æ–º–µ—á–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –∫–∞–∫ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–µ –±–æ—Ç–æ–º.

---

## üì° –°–æ–±—ã—Ç–∏—è (Events)

–í—Å–µ —Å–æ–±—ã—Ç–∏—è –Ω–∞—Å–ª–µ–¥—É—é—Ç—Å—è –æ—Ç `BaseEvent`:

```python
class BaseEvent:
    runner_tag: str           # –¢–µ–≥ Runner'–∞
    type: EventTypes          # –¢–∏–ø —Å–æ–±—ã—Ç–∏—è
    time: float               # –í—Ä–µ–º—è —Å–æ–±—ã—Ç–∏—è
```

### InitialChatEvent

–ß–∞—Ç –æ–±–Ω–∞—Ä—É–∂–µ–Ω –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—Ä–æ—Å–µ Runner'–∞.

```python
class InitialChatEvent(BaseEvent):
    chat: types.ChatShortcut
```

### ChatsListChangedEvent

–°–ø–∏—Å–æ–∫ —á–∞—Ç–æ–≤ –∏–∑–º–µ–Ω–∏–ª—Å—è.

```python
class ChatsListChangedEvent(BaseEvent):
    pass  # TODO: –¥–æ–±–∞–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫ —á–∞—Ç–æ–≤
```

### LastChatMessageChangedEvent

–ü–æ—Å–ª–µ–¥–Ω–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ —á–∞—Ç–µ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å.

```python
class LastChatMessageChangedEvent(BaseEvent):
    chat: types.ChatShortcut
```

### NewMessageEvent

–ù–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –∏—Å—Ç–æ—Ä–∏–∏ —á–∞—Ç–∞.

```python
class NewMessageEvent(BaseEvent):
    message: types.Message
    stack: MessageEventsStack  # –°—Ç–µ–∫ —Å–æ–±—ã—Ç–∏–π
```

### MessageEventsStack

–°—Ç–µ–∫ —Å–æ–±—ã—Ç–∏–π –Ω–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –æ—Ç –æ–¥–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

```python
class MessageEventsStack:
    def add_events(self, messages: list[NewMessageEvent])
    def get_stack(self) -> list[NewMessageEvent]
    def id(self) -> str
```

### InitialOrderEvent

–ó–∞–∫–∞–∑ –æ–±–Ω–∞—Ä—É–∂–µ–Ω –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—Ä–æ—Å–µ Runner'–∞.

```python
class InitialOrderEvent(BaseEvent):
    order: types.OrderShortcut
```

### OrdersListChangedEvent

–°–ø–∏—Å–æ–∫ –∑–∞–∫–∞–∑–æ–≤ –∏–∑–º–µ–Ω–∏–ª—Å—è.

```python
class OrdersListChangedEvent(BaseEvent):
    purchases: int            # –ù–µ–∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ –ø–æ–∫—É–ø–∫–∏
    sales: int                # –ù–µ–∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ –ø—Ä–æ–¥–∞–∂–∏
```

### NewOrderEvent

–ù–æ–≤—ã–π –∑–∞–∫–∞–∑.

```python
class NewOrderEvent(BaseEvent):
    order: types.OrderShortcut
```

### OrderStatusChangedEvent

–°—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞ –∏–∑–º–µ–Ω–∏–ª—Å—è.

```python
class OrderStatusChangedEvent(BaseEvent):
    order: types.OrderShortcut
```

---

## üõ†Ô∏è –£—Ç–∏–ª–∏—Ç—ã (utils)

### RegularExpressions (Singleton)

–ö–ª–∞—Å—Å —Å —Ä–µ–≥—É–ª—è—Ä–Ω—ã–º–∏ –≤—ã—Ä–∞–∂–µ–Ω–∏—è–º–∏ –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π.

```python
from FunPayAPI.common.utils import RegularExpressions

regex = RegularExpressions()

# –ü—Ä–∏–º–µ—Ä—ã —Ä–µ–≥—É–ª—è—Ä–Ω—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π:
regex.ORDER_PURCHASED       # –ó–∞–∫–∞–∑ –æ–ø–ª–∞—á–µ–Ω
regex.ORDER_CONFIRMED       # –ó–∞–∫–∞–∑ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω
regex.NEW_FEEDBACK          # –ù–æ–≤—ã–π –æ—Ç–∑—ã–≤
regex.FEEDBACK_CHANGED      # –û—Ç–∑—ã–≤ –∏–∑–º–µ–Ω–µ–Ω
regex.REFUND                # –í–æ–∑–≤—Ä–∞—Ç —Å—Ä–µ–¥—Å—Ç–≤
regex.DISCORD               # Discord —Å—Å—ã–ª–∫–∞
# ... –∏ –¥—Ä—É–≥–∏–µ
```

### –§—É–Ω–∫—Ü–∏–∏

#### `random_tag() -> str`

–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å–ª—É—á–∞–π–Ω—ã–π —Ç–µ–≥ –¥–ª—è –∑–∞–ø—Ä–æ—Å–∞.

```python
from FunPayAPI.common.utils import random_tag
tag = random_tag()  # –ù–∞–ø—Ä–∏–º–µ—Ä: "xK7mP9qR"
```

#### `parse_wait_time(response: str) -> int`

–ü–∞—Ä—Å–∏—Ç –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è –¥–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ –ø–æ–¥–Ω—è—Ç–∏—è –ª–æ—Ç–æ–≤.

```python
wait_seconds = parse_wait_time(response_text)
```

#### `parse_currency(s: str) -> Currency`

–ü–∞—Ä—Å–∏—Ç —Å–∏–º–≤–æ–ª –≤–∞–ª—é—Ç—ã –≤ enum.

```python
from FunPayAPI.common.utils import parse_currency
currency = parse_currency("‚ÇΩ")  # Currency.RUB
```

### –ö–æ–Ω—Å—Ç–∞–Ω—Ç–∞ MONTHS

–°–ª–æ–≤–∞—Ä—å –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ –Ω–∞–∑–≤–∞–Ω–∏–π –º–µ—Å—è—Ü–µ–≤:

```python
from FunPayAPI.common.utils import MONTHS
# {"—è–Ω–≤–∞—Ä—è": 1, "—Ñ–µ–≤—Ä–∞–ª—è": 2, ..., "January": 1, "February": 2, ...}
```

---

## üí° –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–æ—Å—Ç–æ–π –±–æ—Ç-–∞–≤—Ç–æ–æ—Ç–≤–µ—Ç—á–∏–∫

```python
from FunPayAPI import Account, Runner, events

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
account = Account("your_golden_key").get()
runner = Runner(account)

print(f"–ë–æ—Ç –∑–∞–ø—É—â–µ–Ω –∫–∞–∫ {account.username}")

# –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π
for event in runner.listen(requests_delay=6.0):
    if isinstance(event, events.NewMessageEvent):
        msg = event.message
        
        # –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º —Å–≤–æ–∏ —Å–æ–æ–±—â–µ–Ω–∏—è
        if msg.author_id == account.id:
            continue
        
        # –û—Ç–≤–µ—á–∞–µ–º –Ω–∞ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ
        if "–ø—Ä–∏–≤–µ—Ç" in msg.text.lower():
            account.send_message(
                chat_id=msg.chat_id,
                text=f"–ü—Ä–∏–≤–µ—Ç, {msg.author}! –ß–µ–º –º–æ–≥—É –ø–æ–º–æ—á—å?"
            )
```

### –ê–≤—Ç–æ–≤—ã–¥–∞—á–∞ —Ç–æ–≤–∞—Ä–∞

```python
from FunPayAPI import Account, Runner, events
from FunPayAPI.common.enums import MessageTypes

account = Account("your_golden_key").get()
runner = Runner(account)

for event in runner.listen():
    if isinstance(event, events.NewMessageEvent):
        msg = event.message
        
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —ç—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ –ø–æ–∫—É–ø–∫–µ
        if msg.type == MessageTypes.ORDER_PURCHASED:
            # –ò–∑–≤–ª–µ–∫–∞–µ–º ID –∑–∞–∫–∞–∑–∞ –∏–∑ —Ç–µ–∫—Å—Ç–∞
            # –¢–µ–∫—Å—Ç: "–ü–æ–∫—É–ø–∞—Ç–µ–ª—å X –æ–ø–ª–∞—Ç–∏–ª –∑–∞–∫–∞–∑ #ABC12345..."
            order_id = extract_order_id(msg.text)  # –≤–∞—à–∞ —Ñ—É–Ω–∫—Ü–∏—è
            
            # –ü–æ–ª—É—á–∞–µ–º –∑–∞–∫–∞–∑
            order = account.get_order(order_id)
            
            # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Ç–æ–≤–∞—Ä
            if order.order_secrets:
                secrets = "\n".join(order.order_secrets)
                account.send_message(
                    chat_id=msg.chat_id,
                    text=f"–í–∞—à —Ç–æ–≤–∞—Ä:\n{secrets}\n\n–°–ø–∞—Å–∏–±–æ –∑–∞ –ø–æ–∫—É–ø–∫—É!"
                )
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–¥–∞–∂

```python
from FunPayAPI import Account, Runner, events

account = Account("your_golden_key").get()
runner = Runner(account)

for event in runner.listen():
    if isinstance(event, events.NewOrderEvent):
        order = event.order
        print(f"[–ù–û–í–´–ô –ó–ê–ö–ê–ó] #{order.id}")
        print(f"  –ü–æ–∫—É–ø–∞—Ç–µ–ª—å: {order.buyer_username}")
        print(f"  –¢–æ–≤–∞—Ä: {order.description}")
        print(f"  –°—É–º–º–∞: {order.price} {order.currency}")
        
    elif isinstance(event, events.OrderStatusChangedEvent):
        order = event.order
        print(f"[–°–¢–ê–¢–£–° –ò–ó–ú–ï–ù–ï–ù] #{order.id} -> {order.status.name}")
```

### –ü–æ–¥–Ω—è—Ç–∏–µ –ª–æ—Ç–æ–≤ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é

```python
import time
from FunPayAPI import Account
from FunPayAPI.common.exceptions import RaiseError

account = Account("your_golden_key").get()

# –ü–æ–¥–Ω–∏–º–∞–µ–º –ª–æ—Ç—ã –∫–∞–∂–¥—ã–µ 4 —á–∞—Å–∞
while True:
    for category in account.categories:
        try:
            account.raise_lots(category.id)
            print(f"‚úÖ –õ–æ—Ç—ã –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ '{category.name}' –ø–æ–¥–Ω—è—Ç—ã")
        except RaiseError as e:
            print(f"‚è≥ {category.name}: –Ω—É–∂–Ω–æ –ø–æ–¥–æ–∂–¥–∞—Ç—å {e.wait_time} —Å–µ–∫")
        
        time.sleep(1)  # –ü–∞—É–∑–∞ –º–µ–∂–¥—É –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏
    
    time.sleep(4 * 60 * 60)  # –ñ–¥–µ–º 4 —á–∞—Å–∞
```

### –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ—Ç–∞

```python
from FunPayAPI import Account

account = Account("your_golden_key").get()

# –ü–æ–ª—É—á–∞–µ–º –ø–æ–ª—è –ª–æ—Ç–∞
fields = account.get_lot_fields(12345678)

# –†–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º
fields.active = True           # –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –ª–æ—Ç
fields.price = "150"           # –ù–æ–≤–∞—è —Ü–µ–Ω–∞
fields.description = "–ù–æ–≤–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ª–æ—Ç–∞"
fields.secrets = "secret1\nsecret2\nsecret3"  # –¢–æ–≤–∞—Ä—ã

# –°–æ—Ö—Ä–∞–Ω—è–µ–º
fields.renew_fields()  # –û–±–Ω–æ–≤–ª—è–µ–º –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π —Å–ª–æ–≤–∞—Ä—å –ø–æ–ª–µ–π
account.save_lot(fields)

print("–õ–æ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω!")
```

---

## üìù –ó–∞–º–µ—Ç–∫–∏

### –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã

1. **–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –≤—ã–∑—ã–≤–∞–π—Ç–µ `account.get()`** –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ª—é–±—ã—Ö –º–µ—Ç–æ–¥–æ–≤ Account.

2. **–û–±–Ω–æ–≤–ª—è–π—Ç–µ —Å–µ—Å—Å–∏—é –∫–∞–∂–¥—ã–µ 40-60 –º–∏–Ω—É—Ç** ‚Äî –≤—ã–∑—ã–≤–∞–π—Ç–µ `account.get()` –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è `phpsessid`.

3. **–ù–µ –¥–µ–ª–∞–π—Ç–µ —Å–ª–∏—à–∫–æ–º —á–∞—Å—Ç—ã–µ –∑–∞–ø—Ä–æ—Å—ã** ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∑–∞–¥–µ—Ä–∂–∫–∏ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 5-10 —Å–µ–∫—É–Ω–¥).

4. **–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è** ‚Äî FunPay –º–æ–∂–µ—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –æ—à–∏–±–∫–∏ –ø—Ä–∏ –≤—ã—Å–æ–∫–æ–π –Ω–∞–≥—Ä—É–∑–∫–µ.

5. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–æ–∫—Å–∏** –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –¥–ª—è –æ–±—Ö–æ–¥–∞ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫.

### –ì–¥–µ –≤–∑—è—Ç—å golden_key?

1. –ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å –Ω–∞ FunPay
2. –û—Ç–∫—Ä–æ–π—Ç–µ DevTools (F12)
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤–æ –≤–∫–ª–∞–¥–∫—É "Application" ‚Üí "Cookies"
4. –ù–∞–π–¥–∏—Ç–µ cookie `golden_key`

---

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–î–∞–Ω–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –∫–∞–∫ —á–∞—Å—Ç—å –ø—Ä–æ–µ–∫—Ç–∞ FunPayCardinal Fork.

---

*–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞ –¥–ª—è FunPayCardinal Fork v0.1.16.9*
